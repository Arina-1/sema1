#include <stdio.h>
int ABBA(int n[8]) {
    int N[8][8];
    for (int b = 0; b < 8; b++) {
        for (int j = 0; j < 8; j++) {
            int l = ( n[b] >> 28 - 4 * j) & 0xF;
            N[b][j] = l;
            if (l == 10) {
                N[b][j] = 'A';
                printf("A");}
            else if (l == 11) {
                N[b][j] = 'B';
                printf("B");}
            else if (l == 12) {
                N[b][j] = 'C';
                printf("C");}
            else if (l == 13) {
                N[b][j] = 'D';
                printf("D");}
            else if (l == 14) {
                N[b][j] = 'E';
                printf("E");}
            else if (l == 15) {
                N[b][j] = 'F';
                printf("F");}
            else
                printf("%d", N[b][j]);}
        printf("\n");
    }
    int k = 0;
    for (int i = 0; i < 8; i++) {
        for (int j = 0; j < 8; j++) {//расмотрим все случаи без повторений
            if (N[i][j] == 'A' && N[i][j + 1] == 'B' && N[i][j + 2] == 'B' && N[i][j + 3] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i+1][j] == 'B' && N[i+2][j] == 'B' && N[i+3][j] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i][j+1] == 'B' && N[i][j+2] == 'B' && N[i+1][j+2] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i][j + 1] == 'B' && N[i][j + 2] == 'B' && N[i-1][j + 2] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i][j + 1] == 'B' && N[i+1][j + 1] == 'B' && N[i+2][j + 1] == 'A') k += 1; 
            if (N[i][j] == 'A' && N[i][j + 1] == 'B' && N[i+1][j + 1] == 'B' && N[i+1][j + 2] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i][j + 1] == 'B' && N[i-1][j + 1] == 'B' && N[i-1][j + 2] == 'A') k += 1; 
            if (N[i][j] == 'A' && N[i][j + 1] == 'B' && N[i-1][j + 1] == 'B' && N[i-1][j] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i+1][j] == 'B' && N[i+1][j + 1] == 'B' && N[i+1][j + 2] == 'A') k += 1; 
            if (N[i][j] == 'A' && N[i+1][j] == 'B' && N[i+2][j] == 'B' && N[i+2][j + 1] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i-1][j] == 'B' && N[i-2][j] == 'B' && N[i-2][j + 1] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i-1][j] == 'B' && N[i-1][j + 1] == 'B' && N[i-1][j + 2] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i][j - 1] == 'B' && N[i][j - 2] == 'B' && N[i+1][j - 2] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i][j - 1] == 'B' && N[i+1][j - 1] == 'B' && N[i+1][j] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i+1][j] == 'B' && N[i+1][j + 1] == 'B' && N[i][j + 1] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i-1][j] == 'B' && N[i-1][j + 1] == 'B' && N[i][j + 1] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i - 1][j] == 'B' && N[i - 1][j + 1] == 'B' && N[i-2][j + 1] == 'A') k += 1;
            if (N[i][j] == 'A' && N[i + 1][j] == 'B' && N[i + 1][j + 1] == 'B' && N[i+2][j + 1] == 'A') k += 1;
        }
    }
    return (k);
}   
int main(){
    int p[8] = {-1413863686,- 1146374827,- 1162027246,- 1442185216,184549376,11534336,655360,179026592};
    int l[8] = { -1430650880,-1157627904,3145728,-1442185216,184549376,11534336,655360,3840 };
    printf("%d\n", ABBA(p));
    printf("%d\n", ABBA(l));
    return 0;
}

#include <stdio.h>

int mycalc(char* s) {

int i0 = s[4] - '0';

int i1 = s[2] - '0';

int i3 = s[0] - '0';// x в середине на 2 позиции

return ((s[2] == 'x' && s[1] == '+') ? i0 - i3 :

(s[2] == 'x' && s[1] == '-') ? (i0 - i3) * (-1) :

(s[2] == 'x' && s[1] == '*') ? i0 / i3 :

(s[2] == 'x' && s[1] == '/' && s[4] != 0) ? i3 / i0 :

(s[0] == 'x' && s[1] == '+') ? i0 - i1 :

(s[0] == 'x' && s[1] == '-') ? i0 + i1 :

(s[0] == 'x' && s[1] == '*') ? i0 / i1 :

(s[0] == 'x' && s[1] == '/') ? i1 * i0 :

(s[4] == 'x' && s[1] == '-') ? i3 - i1 :

(s[4] == 'x' && s[1] == '*') ? i3 * i1 :

(s[4] == 'x' && s[1] == '/') ? i3 / i1 :

(s[4] == 'x' && s[1] == '+') ? i3 + i1 :

(s[0] == 'x' && s[3] == '-') ? i1 - i0 :

(s[0] == 'x' && s[3] == '*') ? i0 * i1 :

(s[0] == 'x' && s[3] == '/' && s[4] != 0) ? i1 / i0 :

(s[0] == 'x' && s[3] == '+') ? i1 + i0 :

(s[2] == 'x' && s[3] == '-') ? i3 + i0 :

(s[2] == 'x' && s[3] == '*') ? i3 / i0 :

(s[2] == 'x' && s[3] == '/') ? i3 * i0 :

(s[2] == 'x' && s[3] == '+') ? i3 - i0 :

(s[4] == 'x' && s[3] == '-') ? i1 - i3 :

(s[4] == 'x' && s[3] == '*') ? i3 / i1 :

(s[4] == 'x' && s[3] == '/') ? i1 / i3 :

(s[4] == 'x' && s[3] == '+') ? i3 - i1 : 0);

}

int main() {

char* expression[] = { "x+2=4", "x-1=5", "x/2=3", "x*3=6", "3+x=4", "6-x=2","9/x=1", "2*x=6", "1+2=x", "2-1=x", "6/5=x", "6*2=x", "6=x+1", "5=x-2", "8=x/4", "4=x*2", "x=3+1", "x=6-1", "x=8/2", "x=3*2", "4=1+x", "8=9-x", "3=6/x", "8=4*x" };

int len = sizeof(expression) / sizeof(char*);

for (int i = 0; i < len; i++)

printf("%s x = %d\n", expression[i], mycalc(expression[i]));

return 0;

}
